<div class="container mt-4">
    <!-- 📌 Encabezado -->
    <h1 class="text-center text-gold">Ejercicios con Firebase</h1>

    <!-- 📌 Formulario para agregar/modificar ejercicios -->
    <div class="card p-3 my-4">
        <form (ngSubmit)="ejercicioSeleccionado ? updateEjercicio() : insertarEjercicio()">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input id="nombre" type="text" class="form-control" [(ngModel)]="ejercicio.nombre" name="nombre" required />
            </div>

            <div class="mb-3">
                <label for="descripcion" class="form-label">Descripción</label>
                <input id="descripcion" type="text" class="form-control" [(ngModel)]="ejercicio.descripcion" name="descripcion" required />
            </div>

            <div class="mb-3">
                <label for="costo" class="form-label">Costo</label>
                <input id="costo" type="number" class="form-control" [(ngModel)]="ejercicio.costo" name="costo" required />
            </div>

            <!-- 📌 Botones separados -->
            <div class="d-flex justify-content-between mt-3">
                <!-- 🔵 Botón para agregar un nuevo ejercicio -->
                <button type="button" class="btn btn-primary w-30" (click)="limpiarFormulario()">
                    Agregar Nuevo
                </button>

                <!-- 🟡 Botón para guardar cambios (Solo si hay un ejercicio seleccionado) -->
                <button *ngIf="ejercicioSeleccionado" type="submit" class="btn btn-success w-30">
                    Guardar Cambios
                </button>

                <!-- 🔴 Botón para eliminar (Solo si hay un ejercicio seleccionado) -->
                <button *ngIf="ejercicioSeleccionado" type="button" class="btn btn-danger w-30" (click)="deleteEjercicio()">
                    Eliminar
                </button>
            </div>
        </form>
    </div>

    <!-- 📌 Lista de ejercicios obtenidos desde Firebase -->
    <h2 class="text-center text-gold mt-4">Lista de Ejercicios</h2>
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Costo</th>
                    <th>Seleccionar</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ejercicio of ejercicios">
                    <td>{{ ejercicio.nombre }}</td>
                    <td>{{ ejercicio.descripcion }}</td>
                    <td>${{ ejercicio.costo }}</td>
                    <td>
                        <button class="btn btn-warning btn-sm" (click)="selectEjercicio(ejercicio)">
                            Seleccionar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
